# Verbo Vivo - Seu Assistente de Discipulado Digital
Verbo Vivo √© uma plataforma digital interativa projetada para aprofundar sua jornada de f√© e estudo b√≠blico. Combinando ferramentas de leitura, medita√ß√£o, comunidade e intelig√™ncia artificial, o Verbo Vivo oferece uma experi√™ncia personalizada e enriquecedora para o seu crescimento espiritual.


## ‚ú® Manual de Funcionalidades

Este guia detalha como utilizar cada ferramenta do Verbo Vivo para fortalecer sua jornada.

### üòî Jornada de Sentimentos
**O que √©?** Uma ferramenta guiada por IA para ajudar a processar emo√ß√µes √† luz das Escrituras.

![Texto Alternativo da Imagem](https://i.ibb.co/9HhQDNsh/jornada-sentimentos.png)

**Como usar:**
1.  **Selecione o Sentimento:** Escolha como voc√™ est√° se sentindo (ex: Ansiedade, Tristeza, Raiva).
2.  **Descreva o Motivo:** Fale ou escreva sobre o porqu√™ de se sentir assim.
3.  **Receba o Farol:** A IA, agindo como um conselheiro pastoral, fornecer√° uma reflex√£o emp√°tica e vers√≠culos b√≠blicos relevantes para trazer conforto e a perspectiva de Deus para sua situa√ß√£o. O foco √© sempre apontar para a esperan√ßa nas Escrituras, n√£o dar conselhos pr√°ticos.

---

### üìñ Leitura da B√≠blia
**O que √©?** Uma B√≠blia digital completa com m√∫ltiplas vers√µes.
 ![Texto Alternativo da Imagem](https://i.ibb.co/rRc7Mgqw/biblia-desktop.png)


**Como usar:**
1.  **Navegue:** No menu principal, v√° em "B√≠blia".
2.  **Selecione a Vers√£o:** Use o seletor no topo para escolher sua tradu√ß√£o preferida (NVI, ACF, etc.).
3.  **Escolha o Livro e Cap√≠tulo:** Use o painel lateral para navegar entre os livros e cap√≠tulos.
4.  **Leia e Interaja:** Com o texto selecionado, voc√™ pode usar a IA para explicar trechos ou usar o dicion√°rio para entender palavras espec√≠ficas.
5.  **Modo Foco:** Clique no √≠cone de expandir para uma leitura imersiva sem distra√ß√µes.

---

### üí¨ Chat com IA
**O que √©?** Um assistente de IA treinado para responder suas perguntas com base nas Escrituras.

![Texto Alternativo da Imagem](https://i.ibb.co/GvThcKMV/chat-biblia.png)

**Como usar:**
1.  **Acesse o Chat:** Selecione "Chat com IA" no menu.
2.  **Fa√ßa sua Pergunta:** Digite qualquer d√∫vida que voc√™ tenha, seja sobre um vers√≠culo, um tema ou um personagem.
3.  **Receba a Resposta:** A IA fornecer√° uma resposta contextualizada, incluindo vers√≠culos de apoio.
4.  **Crie um Plano de Estudo:** A partir da resposta da IA, voc√™ pode clicar no bot√£o "Criar plano de estudo sobre isso" para gerar um guia de 7 dias sobre o tema da sua pergunta.

---

### üõ°Ô∏è Minha Armadura
**O que √©?** Sua cole√ß√£o pessoal de vers√≠culos ("armas") para batalhas espirituais espec√≠ficas (ansiedade, medo, etc.).

![Texto Alternativo da Imagem](https://i.ibb.co/xSd0ZjGG/minha-armadura.png)

**Como usar:**
1.  **Acesse o Arsenal:** V√° para "Minha Armadura" no menu.
2.  **Forje uma Armadura:** Clique no bot√£o `+` para criar uma nova armadura. D√™ um nome (ex: "Armadura contra a Ansiedade").
3.  **Adicione Armas:** Dentro da armadura, clique em "Adicionar Arma". Voc√™ pode usar a IA para sugerir vers√≠culos sobre um tema ou adicionar manually.
4.  **Entre em Batalha:** Com sua armadura pronta, clique em "Modo Batalha" para uma experi√™ncia imersiva, visualizando um vers√≠culo de cada vez em tela cheia para medita√ß√£o e memoriza√ß√£o.
5.  **Compartilhe:** Voc√™ pode optar por compartilhar suas armaduras com a comunidade, permitindo que outros irm√£os as adicionem ao seu pr√≥prio arsenal.

---

### üéØ Centro de Treinamento (Planos de Batalha)
**O que √©?** Um roteiro de treinamento espiritual de v√°rios dias, com miss√µes di√°rias que podem incluir leitura b√≠blica, ora√ß√£o, reflex√£o e mais.

![Texto Alternativo da Imagem](https://i.ibb.co/Fkp3t37N/treinamento.png)

**Como um l√≠der pode criar:**
1.  **Inicie a Cria√ß√£o:** Em "Treinamento", clique em "Criar Plano" e depois em "Criar com Intelig√™ncia Artificial".
2.  **Descreva a Batalha:** No campo "Descri√ß√£o do Problema", seja espec√≠fico sobre o desafio que sua comunidade enfrenta (ex: "Lutando com d√∫vidas sobre a f√©", "Medo do futuro financeiro").
3.  **Ajuste a Estrat√©gia:** Defina a dura√ß√£o em dias e o n√∫mero de miss√µes por dia.
4.  **Gere e Revise:** Clique em "Gerar Plano". A IA sugerir√° um t√≠tulo, descri√ß√£o e uma lista completa de miss√µes di√°rias. Voc√™ pode gerar novamente se n√£o gostar.
5.  **Adote e Refine:** Ao clicar em "Usar este Plano", voc√™ ser√° levado a um editor final, onde poder√° ajustar cada detalhe antes de "Salvar como Rascunho" ou "Publicar Plano" para sua comunidade.

---

### ü§ù Comunidade (Congrega√ß√£o)
**O que √©?** Um feed social privado para membros de uma mesma igreja local.

![Texto Alternativo da Imagem](https://i.ibb.co/xSd0ZjGG/minha-armadura.png)

**Como usar:**
1.  **Entre ou Crie:** Na se√ß√£o "Comunidade", voc√™ pode entrar em uma congrega√ß√£o existente com um c√≥digo de convite ou criar a sua pr√≥pria.
2.  **Compartilhe:** Crie publica√ß√µes com texto, imagens, v√≠deos do YouTube ou at√© mesmo um vers√≠culo espec√≠fico.
3.  **Interaja:** Curta e comente nas publica√ß√µes de outros membros, construindo um ambiente de apoio e comunh√£o.
4.  **Gerencie (Admins):** Administradores podem aprovar novos membros e gerenciar as configura√ß√µes da comunidade.

---

### üôè Santu√°rio de Ora√ß√£o
**O que √©?** Um espa√ßo privado para voc√™ orar em voz alta e receber uma reflex√£o devocional baseada em sua ora√ß√£o.

![Texto Alternativo da Imagem](https://i.ibb.co/tpQWd8Pv/santuario-oracao.png)

**Como usar:**
1.  **Entre no Santu√°rio:** Acesse a funcionalidade no menu.
2.  **Comece a Orar:** Clique no bot√£o de microfone e fale com Deus livremente.
3.  **Receba a Reflex√£o:** Ap√≥s terminar, a IA analisar√° o tema da sua ora√ß√£o (sem salvar o √°udio) e apresentar√° uma reflex√£o com vers√≠culos de apoio para encoraj√°-lo.

---

### ‚úùÔ∏è Confession√°rio
**O que √©?** Um espa√ßo seguro para a pr√°tica espiritual da confiss√£o, com garantia de privacidade.

![Texto Alternativo da Imagem](https://i.ibb.co/svyRMdy3/confessionario.png)

**Como usar:**
1.  **Acesso Intencional:** Para entrar, pressione e segure o √≠cone de cadeado.
2.  **Confesse:** Use o microfone ou digite para confessar seus pecados. O conte√∫do **n√£o √© salvo em nenhum lugar**.
3.  **Receba a Gra√ßa:** A IA gera uma resposta pastoral, n√£o de penit√™ncia, mas de perd√£o, fundamentada em 2 a 3 vers√≠culos b√≠blicos que refor√ßam a certeza do perd√£o em Cristo.

---


### Outras Ferramentas

*   **Ponte da Esperan√ßa:** Gere uma mensagem de esperan√ßa e conforto, baseada em vers√≠culos, para compartilhar com amigos que est√£o passando por dificuldades.
> <COLOCAR AQUI IMAGEM DA TELA DA PONTE DA ESPERAN√áA>
*   **Di√°rio Espiritual:** Registre suas reflex√µes, ora√ß√µes e aprendizados em um espa√ßo pessoal e seguro.
> <COLOCAR AQUI IMAGEM DA TELA DO DI√ÅRIO ESPIRITUAL>
*   **Artigos e Reflex√µes:** Um blog onde administradores da comunidade podem publicar estudos mais longos e aprofundados.
> <COLOCAR AQUI IMAGEM DA TELA DE ARTIGOS>
*   **Perfis de Personagens B√≠blicos:** Explore perfis detalhados de figuras da B√≠blia, com resumos, vers√≠culos-chave e planos de estudo.
> <COLOCAR AQUI IMAGEM DA TELA DE PERSONAGENS B√çBLICOS>

## üõ†Ô∏è Tecnologias Utilizadas

*   **Frontend:** [Next.js](https://nextjs.org/) (React)
*   **Backend & Autentica√ß√£o:** [Firebase](https://firebase.google.com/) (Firestore, Authentication, Cloud Functions, Storage)
*   **Intelig√™ncia Artificial:** [Genkit (Google AI)](https://firebase.google.com/docs/genkit)
*   **UI Framework:** [Shadcn UI](https://ui.shadcn.com/) (constru√≠do sobre Tailwind CSS e Radix UI)
*   **Linguagem:** [TypeScript](https://www.typescriptlang.org/)

## üöÄ Como Executar o Projeto Localmente

### Pr√©-requisitos

*   [Node.js](https://nodejs.org/) (vers√£o 20 ou superior)
*   [npm](https://www.npmjs.com/) ou [yarn](https://yarnpkg.com/)
*   [Firebase CLI](https://firebase.google.com/docs/cli)

### Configura√ß√£o das Vari√°veis de Ambiente

1.  **Crie o arquivo `.env`:**
    Na raiz do projeto, crie um arquivo chamado `.env`. Voc√™ pode copiar o arquivo `.env.example` como modelo:
    ```bash
    cp .env.example .env
    ```

2.  **Configure o Firebase:**
    *   Crie um projeto no [Firebase Console](https://console.firebase.google.com/).
    *   Ative os servi√ßos de **Authentication** (com o provedor Google), **Firestore** e **Storage**.
    *   Nas configura√ß√µes do seu projeto Firebase, adicione um aplicativo da Web.
    *   Copie o objeto de configura√ß√£o do Firebase (apiKey, authDomain, etc.).
    *   Preencha as vari√°veis `NEXT_PUBLIC_FIREBASE_*` no seu arquivo `.env` com os valores correspondentes.

3.  **Configure as APIs do Google e da B√≠blia:**
    *   **Genkit (Google AI):**
        *   Certifique-se de ter um projeto no Google Cloud com a **API Gemini** habilitada.
        *   Gere uma chave de API. [Instru√ß√µes aqui](https://aistudio.google.com/app/apikey).
        *   Adicione a chave √† vari√°vel `GOOGLE_API_KEY` no seu arquivo `.env`.
    *   **API da B√≠blia (AbibliaDigital):**
        *   Crie uma conta gratuita em [abibliadigital.com.br/api](https://www.abibliadigital.com.br/api).
        *   Acesse seu perfil para obter o token de acesso.
        *   Adicione o token √† vari√°vel `ABIBLIA_API_TOKEN` no seu arquivo `.env`.

### Instala√ß√£o e Execu√ß√£o

1.  **Clone o reposit√≥rio:**
    ```bash
    git clone <URL_DO_REPOSITORIO>
    cd <NOME_DO_DIRETORIO>
    ```

2.  **Instale as depend√™ncias (raiz e functions):**
    ```bash
    npm install
    cd functions
    npm install
    cd ..
    ```

3.  **Execute o servidor de desenvolvimento do Next.js:**
    ```bash
    npm run dev
    ```
    A aplica√ß√£o Next.js estar√° dispon√≠vel em `http://localhost:3000`.

4.  **Execute o servidor de desenvolvimento do Genkit (para as funcionalidades de IA):**
    Em um novo terminal, na raiz do projeto:
    ```bash
    npm run genkit:watch
    ```
    O servidor Genkit (ferramentas de IA) estar√° dispon√≠vel em `http://localhost:4000` (ou outra porta, verifique o output do terminal).
    
5. **Execute o emulador de Cloud Functions:**
   Para testar as fun√ß√µes de notifica√ß√µes e gerenciamento de comunidade localmente, execute em um novo terminal:
   ```bash
   firebase emulators:start --only functions
   ```

## üîç Debugando Erros de Produ√ß√£o

Erros que ocorrem apenas no ambiente de produ√ß√£o (erros 500, por exemplo) geralmente s√£o erros do lado do servidor. Como a aplica√ß√£o Next.js √© servida por uma Cloud Function no Firebase, os logs detalhados desses erros podem ser encontrados no **Google Cloud Logging**.

### Passo a Passo para Encontrar a Causa do Erro

1.  **Acesse o Logs Explorer:** [Clique aqui para ir para o Google Cloud Logs Explorer](https://console.cloud.google.com/logs/viewer).
2.  **Selecione o Projeto Correto:** Garanta que o projeto no topo da p√°gina seja o mesmo do seu Firebase.
3.  **Filtre pela Fun√ß√£o e Severidade:** Use a caixa de consulta para filtrar os erros da sua aplica√ß√£o. Uma consulta √∫til √©:
    ```
    resource.type="cloud_function"
    resource.labels.function_name="ssrinovai-pr4x6"
    severity>=ERROR
    ```
    *Substitua `ssrinovai-pr4x6` pelo nome da fun√ß√£o do seu projeto, se for diferente. Voc√™ pode encontrar o nome da fun√ß√£o no seu [Painel do Firebase](https://console.firebase.google.com/project/_/functions).*
4.  **Encontre o Log do Erro da Aplica√ß√£o:** O Google Cloud mostra dois tipos de logs para uma fun√ß√£o:
    *   **Logs de Requisi√ß√£o (`run.googleapis.com/requests`):** Estes logs apenas confirmam que uma requisi√ß√£o HTTP aconteceu e qual foi seu status (ex: 200 para sucesso, 500 para erro). **Eles n√£o cont√™m a causa do erro**.
    *   **Logs da Aplica√ß√£o (`run.googleapis.com/stdout` ou `stderr`):** **√â AQUI QUE EST√Å O ERRO.** Procure por uma entrada que n√£o seja um log de requisi√ß√£o. Ela ter√° a mensagem de erro detalhada e o "stack trace".
5.  **Interprete o Stack Trace:** Ao encontrar o log de erro da aplica√ß√£o, clique nele para expandir os detalhes. Procure por duas informa√ß√µes cruciais:
    *   **Mensagem de Erro:** A primeira linha, geralmente em vermelho, que descreve *o que* deu errado.
    *   **Stack Trace (Rastreamento da Pilha):** Uma lista de arquivos e n√∫meros de linha que mostra *onde* o erro ocorreu.

    **Exemplo Pr√°tico de Stack Trace:**
    ```
    Error: Value for argument "document" is not a valid Firestore document. ...
        at WriteBatch.set (node_modules/@google-cloud/firestore/build/src/write-batch.js:288:23)
        at /srv/src/app/(main)/community/page.tsx:154:19  <-- FOQUE AQUI
        at ...
    ```
    Neste exemplo, o erro `not a valid Firestore document` aconteceu no seu c√≥digo, no arquivo `src/app/(main)/community/page.tsx`, na linha `154`. V√° at√© essa linha no seu editor de c√≥digo para encontrar e corrigir o problema.

## Firestore Data Model

Esta se√ß√£o descreve as cole√ß√µes e estruturas chave no Firestore.

### `users` Collection

*   **Document ID:** `userId` (o mesmo do Firebase Auth UID)
*   **Descri√ß√£o:** Armazena informa√ß√µes de perfil do usu√°rio.
*   **Campos:**
    *   `uid`: (string) ID do Usu√°rio.
    *   `email`: (string|null) Endere√ßo de e-mail do usu√°rio.
    *   `displayName`: (string|null) Nome de exibi√ß√£o do usu√°rio.
    *   `photoURL`: (string|null) URL da foto de perfil do usu√°rio.
    *   `createdAt`: (Timestamp) Data de cria√ß√£o da conta.
    *   `onboardingCompleted`: (boolean) Flag que indica se o usu√°rio completou o onboarding.
    *   `congregationId`: (string|null) ID da congrega√ß√£o √† qual o usu√°rio pertence ou solicitou entrada.
    *   `congregationStatus`: (string|null) Status do usu√°rio na congrega√ß√£o ('MEMBER', 'PENDING', 'ADMIN', 'NONE').
    *   `preferredLanguage`: (string|null) C√≥digo do idioma de prefer√™ncia do usu√°rio (ex: "pt", "en").
    *   `preferredModel`: (string|null) Modelo de IA de prefer√™ncia do usu√°rio (ex: "gemini-1.5-flash").

### `congregations` Collection

*   **Document ID:** ID √∫nico gerado automaticamente.
*   **Descri√ß√£o:** Armazena informa√ß√µes sobre as comunidades.
*   **Campos:** `name`, `city`, `pastorName`, `admins` (mapa), `memberCount`, `inviteCode`, etc.
*   **Subcole√ß√µes:**
    *   `members`: Documentos para cada membro da congrega√ß√£o.
    *   `posts`: Publica√ß√µes da comunidade.
        *   **Subcole√ß√µes de `posts`:** `comments`, `likes`.

### Outras Cole√ß√µes Principais

*   `articles`: Armazena os artigos do blog.
*   `journals`: Entradas do di√°rio pessoal de cada usu√°rio.
*   `notifications`: Notifica√ß√µes no aplicativo para os usu√°rios.
*   `prayers`: Ora√ß√µes gravadas no Santu√°rio de Ora√ß√£o.
*   e mais...

## ü§ù Como Contribuir

Agradecemos o interesse em contribuir com o Verbo Vivo! No momento, estamos estruturando nosso processo de contribui√ß√£o. Em breve, adicionaremos mais informa√ß√µes sobre como voc√™ pode participar.

## üìÑ Licen√ßa

Este projeto √© distribu√≠do sob a licen√ßa MIT. (Nota: Adicionar um arquivo LICENSE ao projeto).
