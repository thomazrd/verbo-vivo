
// --- Studies Rules ---
// Published studies are public.
// Drafts are only accessible by admins.
// Writing is restricted to admins.
match /studies/{studyId} {
  allow read: if resource.data.status == 'published'
              || (request.auth != null && getUserData(request.auth.uid).role == 'ADMIN');
  allow write: if request.auth != null && getUserData(request.auth.uid).role == 'ADMIN';
}
